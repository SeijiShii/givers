---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import { t } from '../../../lib/i18n';

export function getStaticPaths() {
  return [{ params: { id: '1' } }, { params: { id: '2' } }, { params: { id: '3' } }];
}

const { id } = Astro.params;
const locale = 'en';

const mockProject = {
  id,
  name: `サンプルプロジェクト ${id}`,
  nameEn: `Sample Project ${id}`,
  description: 'オープンソースで無料提供しているプロジェクトの説明文です。作り手の GIVE の精神に基づき、見返りを求めず開発・提供しています。',
  descriptionEn: 'Description of an open source project provided for free. Developed and provided without expecting anything in return, based on the GIVE spirit.',
  monthlyTarget: 50000,
  currentMonthly: 42500,
  achievementRate: 85,
  status: 'ok' as const,
};
---

<BaseLayout title={mockProject.nameEn} locale={locale}>
  <div class="project-detail">
    <a href="/en/projects" style="color: var(--color-primary); text-decoration: none; font-size: 0.9rem;">← {t(locale, 'projects.backToList')}</a>

    <h1>{mockProject.nameEn}</h1>
    <p>{mockProject.descriptionEn}</p>

    <div class="card" style="margin-top: 1.5rem;">
      <h2>{t(locale, 'projects.supportStatus')}</h2>
      <div class="achievement-bar" style="margin: 1rem 0;">
        <div class="achievement-fill" style={`width: ${Math.min(mockProject.achievementRate, 100)}%`}></div>
      </div>
      <p>{t(locale, 'projects.supportStatusDetail', {
        target: mockProject.monthlyTarget.toLocaleString(),
        current: mockProject.currentMonthly.toLocaleString(),
        rate: String(mockProject.achievementRate),
      })}</p>
    </div>

    <div class="card accent-line" style="margin-top: 1.5rem;">
      <h2>{t(locale, 'projects.supportTitle')}</h2>
      <p>{t(locale, 'projects.phaseNoteDonate')}</p>
      <button type="button" class="btn btn-accent" style="margin-top: 1rem;">{t(locale, 'projects.donate')}</button>
    </div>
  </div>
</BaseLayout>
